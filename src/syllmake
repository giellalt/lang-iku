

XFST = xfst -utf8

syll2lat.fst: ../bin/syll2lat.fst
../bin/syll2lat.fst: ../bin/lat2syll.fst ../script/syll.xfst
	@echo
	@echo "*** Building the inverse syll2lat.fst ***"
	@echo
	@printf "load ../bin/lat2syll.fst \n\
	invert net \n\
	save stack ../bin/syll2lat.fst \n\
	quit \n" > ../tmp/syll2lat-fst-script
	$(XFST) < ../tmp/syll2lat-fst-script
	@rm -f ../tmp/syll2lat-fst-script



lat2syll.fst: ../bin/lat2syll.fst
../bin/lat2syll.fst: ../script/syll.xfst
	@echo
	@echo "*** Building lat2syll.fst ***" ;
	@echo
	@printf "source ../script/syll.xfst \n\
	save stack ../bin/lat2syll.fst \n\
	quit \n" > ../tmp/lat2syll-iku-script
	$(XFST) < ../tmp/lat2syll-iku-script
	@rm -f ../tmp/lat2syll-iku-script


clean:
	@rm -f ../bin/*.bin ../bin/*.fst ../bin/*.save
